# Playwright E2E-API Tests

This test suite uses [Playwright](https://playwright.dev/) to perform automated API testing for the ReqRes service..
(https://reqres.in/).

## Project Structure

```
playwright-e2e-api-tests/
├── .gitignore               # Git ignore file
├── package.json             # Project dependencies and scripts
├── playwright.config.ts     # Playwright configuration
├── README.md                # Project documentation
├── .github/                 # GitHub Actions workflows
│   └── workflows/
│       └── playwright.yml   # CI/CD workflow for Playwright tests
├── fixtures/                # Test data for UI and API tests
│   └── testData.ts
├── helpers/                 # Utility functions for tests
│   ├── types.ts
│   ├── api.ts
│   
├── playwright-report/       # Test reports generated by Playwright
├── test-results/            # Test result artifacts
├── tests/                   # Test cases
│   ├── API/                 # API test cases
│       └── users.spec.ts
│   
```

## Prerequisites

- Node.js (LTS version recommended)
- npm
- Playwright browsers (installed automatically)
- Docker (optional)

## Installation

1. Clone the repository:
   ```bash
   git clone <repository-url>
   cd playwright-e2e-api-tests
   ```

2. Install dependencies:
   ```bash
   npm install
   ```

## Running Tests

### Run All Tests
```bash
npm test
```

### Run UI Tests
```bash
npm run test:UI
```

### Run API Tests
```bash
npm run test:API
```

## Test Reports

- After running tests, an HTML report is generated in the `playwright-report/` directory.
- To view the report, open `playwright-report/index.html` in a browser.

## Test Strategy

The testing strategy for this project is designed to ensure comprehensive coverage of both UI and API functionalities. The tests are categorized into **positive** and **negative** scenarios to validate the application's behavior under various conditions.

### API Tests

- CRUD operations for user API.

## ✅ Positive Tests

- Register a user with valid credentials.
- Login user with correct credentials.
- Retrieve list of users (paginated).
- Update user with valid payload.
- Delete a user and expect 204 status.
- Parameterized delayed response with a maximum of 3 seconds.

## ❌ Negative Tests

- Attempt to register/login with missing or incorrect credentials (expect 400).
- Try to access a non-existent user resource (expect 404).
- Submit invalid update payload.

## CI/CD Integration

This project uses GitHub Actions for CI/CD. The workflow is defined in `.github/workflows/playwright.yml`. It runs both UI and API tests on every push or pull request to the `master` branch.

**Reports in pipeline**  
   - **API**: Report can be found under the action tab and the respective job steps. 

## Key Features

### API Tests
- CRUD operations for user api.
- Negative test cases for invalid login.

### Utilities
- `helpers/ui.ts`: Utility functions for UI interactions.
- `helpers/api.ts`: Helper functions for API requests.
- `fixtures/`: Test data for both UI and API tests.

### Running Tests in Docker
- Execute the following command to build and run the tests in Docker:
  ```bash
  docker-compose up --build
- Once the tests have completed, you can view the reports under playwright-report `index.html`.
